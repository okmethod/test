import{t as T,a as j}from"./index.Cv0tjidA.js";import{r as k}from"./scheduler.8Jost-LZ.js";import{g as q,b as z}from"./entry.D0VGFBf6.js";function G(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function B(e,o){j(e,1,1,()=>{o.delete(e.key)})}function H(e,o){e.f(),B(e,o)}function I(e,o,x,C,S,y,d,$,p,b,l,A){let i=e.length,c=y.length,f=i;const u={};for(;f--;)u[e[f].key]=f;const a=[],w=new Map,m=new Map,_=[];for(f=c;f--;){const n=A(S,y,f),s=x(n);let t=d.get(s);t?_.push(()=>t.p(n,o)):(t=b(s,n),t.c()),w.set(s,a[f]=t),s in u&&m.set(s,Math.abs(f-u[s]))}const v=new Set,M=new Set;function g(n){T(n,1),n.m($,l),d.set(n.key,n),l=n.first,c--}for(;i&&c;){const n=a[c-1],s=e[i-1],t=n.key,h=s.key;n===s?(l=n.first,i--,c--):w.has(h)?!d.has(t)||v.has(t)?g(n):M.has(h)?i--:m.get(t)>m.get(h)?(M.add(t),g(n)):(v.add(h),i--):(p(s,d),i--)}for(;i--;){const n=e[i];w.has(n.key)||p(n,d)}for(;c;)g(a[c-1]);return k(_),a}function J(e){q(`${z}${e}`)}export{G as e,H as f,J as n,I as u};
