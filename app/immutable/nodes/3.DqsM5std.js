import{s as B,e as f,a as w,c as g,b as E,m as b,f as x,g as p,h as S,i as R,j as v,n as _,q as y,u as C,v as W}from"../chunks/scheduler.DGNqcs4H.js";import{S as L,i as T}from"../chunks/index.D9rkoCaJ.js";function I(){return Matter.Engine.create({enableSleeping:!0,positionIterations:6,velocityIterations:4,constraintIterations:6})}function k(){return Matter.Runner.create()}function D(o,t){return Matter.Render.create({element:t,engine:o,options:{width:t.clientWidth,height:t.clientHeight,pixelRatio:1,background:"#888888",hasBounds:!1,wireframes:!1,showSleeping:!1}})}function H(o,t){const n=Matter.Mouse.create(t.canvas);return t.mouse=n,Matter.MouseConstraint.create(o,{mouse:n,constraint:{stiffness:.2,damping:0,length:0,render:{visible:!0,lineWidth:2,strokeStyle:"#00ff00"}}})}function P(o){const t=o.clientWidth,n=o.clientHeight,s=2e3,d=[Matter.Bodies.rectangle(t/2,-s/2,t,s,{isStatic:!0}),Matter.Bodies.rectangle(t/2,n+s/2,t,s,{isStatic:!0}),Matter.Bodies.rectangle(-s/2,n/2,s,n,{isStatic:!0}),Matter.Bodies.rectangle(t+s/2,n/2,s,n,{isStatic:!0})],a=Matter.Bodies.rectangle(150,50,40,40),e=Matter.Bodies.rectangle(180,100,40,40),r=Matter.Bodies.rectangle(150,300,200,60,{isStatic:!0});return[...d,a,e,r]}function V(o){let t,n,s='<h1 class="cTitleStyle md:!text-3xl">Example route</h1>',d,a,e,r="matter-js renderContainer",h,l;return{c(){t=f("div"),n=f("div"),n.innerHTML=s,d=w(),a=f("div"),e=f("span"),e.textContent=r,h=w(),l=f("div"),this.h()},l(c){t=g(c,"DIV",{class:!0});var u=E(t);n=g(u,"DIV",{class:!0,"data-svelte-h":!0}),b(n)!=="svelte-11znixk"&&(n.innerHTML=s),d=x(u),a=g(u,"DIV",{class:!0});var i=E(a);e=g(i,"SPAN",{"data-svelte-h":!0}),b(e)!=="svelte-tjtsqm"&&(e.textContent=r),h=x(i),l=g(i,"DIV",{class:!0}),E(l).forEach(p),i.forEach(p),u.forEach(p),this.h()},h(){S(n,"class","cTitlePartStyle md:!mb-4"),S(l,"class","w-80 h-80"),S(a,"class","cContentPartStyle !ml-4"),S(t,"class","cRouteBodyStyle")},m(c,u){R(c,t,u),v(t,n),v(t,d),v(t,a),v(a,e),v(a,h),v(a,l),o[1](l)},p:_,i:_,o:_,d(c){c&&p(t),o[1](null)}}}function j(o,t,n){function s(){Matter.World.add(r.world,c)}function d(){Matter.World.remove(r.world,c)}function a(i){const m=i.touches[0],M=e.getBoundingClientRect();(m.clientX<M.left||m.clientX>M.right||m.clientY<M.top||m.clientY>M.bottom)&&Matter.World.remove(r.world,c)}let e,r,h,l,c;y(()=>{r=I(),h=k(),l=D(r,e),c=H(r,l);const i=P(e);Matter.World.add(r.world,i),Matter.World.add(r.world,c),Matter.Runner.run(h,r),Matter.Render.run(l),e.addEventListener("touchstart",s),e.addEventListener("touchend",d),e.addEventListener("touchmove",m=>a(m))}),C(()=>{Matter.Render.stop(l),Matter.Runner.stop(h),Matter.World.clear(r.world,!1),Matter.Engine.clear(r),e.removeEventListener("touchstart",s),e.removeEventListener("touchend",d),e.removeEventListener("touchmove",i=>a(i))});function u(i){W[i?"unshift":"push"](()=>{e=i,n(0,e)})}return[e,u]}class X extends L{constructor(t){super(),T(this,t,j,V,B,{})}}export{X as component};
