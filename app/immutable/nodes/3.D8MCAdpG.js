import{s as _,e as f,a as x,c as m,b as M,m as S,f as y,g,h as v,i as B,j as h,n as b,q as w,u as E,v as k}from"../chunks/scheduler.DGNqcs4H.js";import{S as H,i as R}from"../chunks/index.D9rkoCaJ.js";function I(){return Matter.Engine.create({enableSleeping:!0,positionIterations:6,velocityIterations:4,constraintIterations:6})}function W(){return Matter.Runner.create()}function A(r,e){return Matter.Render.create({element:e,engine:r,options:{width:e.clientWidth,height:e.clientHeight,pixelRatio:1,background:"#888888",hasBounds:!1,wireframes:!1,showSleeping:!1}})}function D(r,e){const n=Matter.Mouse.create(e.canvas);return e.mouse=n,Matter.MouseConstraint.create(r,{mouse:n,constraint:{stiffness:.2,damping:0,length:0,render:{visible:!0,lineWidth:2,strokeStyle:"#00ff00"}}})}function j(r){const e=r.clientWidth,n=r.clientHeight,t=2e3,i=[Matter.Bodies.rectangle(e/2,-t/2,e,t,{isStatic:!0}),Matter.Bodies.rectangle(e/2,n+t/2,e,t,{isStatic:!0}),Matter.Bodies.rectangle(-t/2,n/2,t,n,{isStatic:!0}),Matter.Bodies.rectangle(e+t/2,n/2,t,n,{isStatic:!0})],s=Matter.Bodies.rectangle(150,50,40,40,{render:{sprite:{texture:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png",xScale:1,yScale:1}}}),a=Matter.Bodies.rectangle(160,50,40,40,{render:{sprite:{texture:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png",xScale:1,yScale:1}}}),u=Matter.Bodies.rectangle(170,50,40,40,{render:{sprite:{texture:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/7.png",xScale:1,yScale:1}}});return[...i,s,a,u]}function C(r,e,n,t){function i(){t.isHolding=!0,Matter.World.add(r,e)}function s(){t.isHolding=!1,Matter.World.remove(r,e)}function a(){t.isHolding=!1,e.constraint.bodyA=null,e.constraint.bodyB=null,e.mouse.position={x:-1,y:-1},Matter.World.remove(r,e)}function u(c){const o=n.getBoundingClientRect();(c.clientX<o.left||c.clientX>o.right||c.clientY<o.top||c.clientY>o.bottom)&&Matter.World.remove(r,e)}return{pointerdown:i,pointerup:s,pointerleave:a,pointermove:u}}function L(r){let e,n,t='<h1 class="cTitleStyle md:!text-3xl">Example route</h1>',i,s,a,u="matter-js renderContainer",c,o;return{c(){e=f("div"),n=f("div"),n.innerHTML=t,i=x(),s=f("div"),a=f("span"),a.textContent=u,c=x(),o=f("div"),this.h()},l(l){e=m(l,"DIV",{class:!0});var d=M(e);n=m(d,"DIV",{class:!0,"data-svelte-h":!0}),S(n)!=="svelte-11znixk"&&(n.innerHTML=t),i=y(d),s=m(d,"DIV",{class:!0});var p=M(s);a=m(p,"SPAN",{"data-svelte-h":!0}),S(a)!=="svelte-tjtsqm"&&(a.textContent=u),c=y(p),o=m(p,"DIV",{class:!0}),M(o).forEach(g),p.forEach(g),d.forEach(g),this.h()},h(){v(n,"class","cTitlePartStyle md:!mb-4"),v(o,"class","w-80 h-80"),v(s,"class","cContentPartStyle !ml-4"),v(e,"class","cRouteBodyStyle")},m(l,d){B(l,e,d),h(e,n),h(e,i),h(e,s),h(s,a),h(s,c),h(s,o),r[1](o)},p:b,i:b,o:b,d(l){l&&g(e),r[1](null)}}}let T=!1;function V(r,e,n){let t,i,s,a,u,c;w(()=>{i=I(),s=W(),a=A(i,t),u=D(i,a);const l=j(t);{Matter.World.add(i.world,l),Matter.Runner.run(s,i),Matter.Render.run(a);let d=C(i.world,u,t,{isHolding:T});Object.entries(d).forEach(([p,P])=>{t.addEventListener(p,P)})}}),E(()=>{Matter.Render.stop(a),Matter.Runner.stop(s),Matter.World.clear(i.world,!1),Matter.Engine.clear(i),Object.entries(c).forEach(([l,d])=>{t.removeEventListener(l,d)})});function o(l){k[l?"unshift":"push"](()=>{t=l,n(0,t)})}return[t,o]}class X extends H{constructor(e){super(),R(this,e,V,L,_,{})}}export{X as component};
